openapi: 3.0.0
info:
  title: Unified Uat Api for ProcessMicroplan
  version: 1.0.0
paths:
  /hcm-bff/bulk/_transform:
    post:
      summary: Transform Bulk Data
      description: Endpoint to transform bulk data through the API
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                HCMConfig:
                  type: object
                  properties:
                    fileStoreId:
                      type: string
                    transformTemplate:
                      type: string
                    selectedRows:
                      type: array
                      items:
                        type: object
                        properties:
                          startRow:
                            type: integer
                          endRow:
                            type: integer
                RequestInfo:
                  type: object
                  properties:
                    apiId:
                      type: string
                    authToken:
                      type: string
                    userInfo:
                      type: object
                      properties:
                        id:
                          type: integer
                        uuid:
                          type: string
                        userName:
                          type: string
                        name:
                          type: string
                        mobileNumber:
                          type: string
                        emailId:
                          type: string
                        locale:
                          type: string
                        type:
                          type: string
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              code:
                                type: string
                              tenantId:
                                type: string
                        active:
                          type: boolean
                        tenantId:
                          type: string
                        permanentCity:
                          type: string
                    msgId:
                      type: string
                    plainAccessRequest: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example:
                ResponseInfo:
                  apiId: "egov-bff"
                  ver: "0.0.1"
                  ts: 1705486256704
                  status: "successful"
                  desc: "new-response"
                updatedDatas:
                  - code: "0846904c"
                    name_in_english: "CHIFUNDE "
                    name: "CHIFUNDE "
                    parent_code: "mz"
                    boundary_type: "Provincia"
                    boundary_level: 2
                    campaign_start_date: "10/01/2024"
                    campaign_end_date: "05/02/2024"
                    total_households: 1
                    targeted_households: 1
                    total_individuals: 257
                    targeted_individuals: 257
                    estimated_bednets: 10
                    checklist_target: ""
                    insert_time: "09/01/2024"
                    update_time: "14/02/2024"
                    filename: "default.xlsx"
                  - code: "0846904c"
                    name_in_english: "CHIFUNDE "
                    name: "CHIFUNDE "
                    parent_code: "mz"
                    boundary_type: "Provincia"
                    boundary_level: 2
                    campaign_start_date: "10/01/2024"
                    campaign_end_date: "05/02/2024"
                    total_households: 1
                    targeted_households: 1
                    total_individuals: 508
                    targeted_individuals: 508
                    estimated_bednets: 10
                    checklist_target: ""
                    insert_time: "09/01/2024"
                    update_time: "14/02/2024"
                    filename: "default.xlsx"
        '500':
          description: Error response
          content:
            application/json:
              example:
                ResponseInfo: null
                Errors:
                  - code: INTERNAL_SERVER_ERROR
                    message: "detailed error response"
                    description: null
                    params: null
  /hcm-bff/bulk/_process:
    post:
      summary: Process Bulk Data
      description: Endpoint to process bulk data through the API
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                HCMConfig:
                  type: object
                  properties:
                    parsingTemplate:
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          code:
                            type: string
                          name_in_english:
                            type: string
                          name:
                            type: string
                          parent_code:
                            type: string
                          boundary_type:
                            type: string
                          boundary_level:
                            type: integer
                          campaign_start_date:
                            type: string
                          campaign_end_date:
                            type: string
                          total_households:
                            type: integer
                          targeted_households:
                            type: integer
                          total_individuals:
                            type: number
                          targeted_individuals:
                            type: number
                          estimated_bednets:
                            type: integer
                          checklist_target:
                            type: string
                          insert_time:
                            type: string
                          update_time:
                            type: string
                          filename:
                            type: string
                RequestInfo:
                  type: object
                  properties:
                    apiId:
                      type: string
                    authToken:
                      type: string
                    userInfo:
                      type: object
                      properties:
                        id:
                          type: integer
                        uuid:
                          type: string
                        userName:
                          type: string
                        name:
                          type: string
                        mobileNumber:
                          type: string
                        emailId:
                          type: string
                        locale:
                          type: string
                        type:
                          type: string
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              code:
                                type: string
                              tenantId:
                                type: string
                        active:
                          type: boolean
                        tenantId:
                          type: string
                        permanentCity:
                          type: string
                    msgId:
                      type: string
                    plainAccessRequest: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example:
                ResponseInfo:
                  apiId: "egov-bff"
                  ver: "0.0.1"
                  ts: 1705403475334
                  status: "successful"
                  desc: "new-response"
                groupedData:
                  - code: "CHIFUNDE "
                    name_in_english: "Bairro 1 Luia"
                    name: "Bairro 1 Luia"
                    parent_code: "mz"
                    boundary_type: "Provincia"
                    boundary_level: 2
                    campaign_start_date: "10/01/2024"
                    campaign_end_date: "05/02/2024"
                    total_households: 518
                    targeted_households: 518
                    total_individuals: 2282.4
                    targeted_individuals: 2282.4
                    estimated_bednets: 200
                    checklist_target: ""
                    insert_time: "09/01/2024"
                    update_time: "14/02/2024"
                    filename: "default.xlsx"
        '500':
          description: Error response
          content:
            application/json:
              example:
                ResponseInfo: null
                Errors:
                  - code: INTERNAL_SERVER_ERROR
                    message: "detailed error response"
                    description: null
                    params: null
  /hcm-bff/hcm/_processmicroplan:
    post:
      summary: Process Micro Plan
      description: Endpoint to process micro plan through the API
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                HCMConfig:
                  type: object
                  properties:
                    fileStoreId:
                      type: string
                    campaignName:
                      type: string
                    projectType:
                      type: string
                    projectTypeId:
                      type: string
                    campaignType:
                      type: string
                    selectedRows:
                      type: array
                      items:
                        type: object
                        properties:
                          startRow:
                            type: integer
                          endRow:
                            type: integer
                RequestInfo:
                  type: object
                  properties:
                    apiId:
                      type: string
                    authToken:
                      type: string
                    userInfo:
                      type: object
                      properties:
                        id:
                          type: integer
                        uuid:
                          type: string
                        userName:
                          type: string
                        name:
                          type: string
                        mobileNumber:
                          type: string
                        emailId:
                          type: string
                        locale:
                          type: string
                        type:
                          type: string
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              code:
                                type: string
                              tenantId:
                                type: string
                        active:
                          type: boolean
                        tenantId:
                          type: string
                        permanentCity:
                          type: string
                    msgId:
                      type: string
                    plainAccessRequest: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example:
                ResponseInfo:
                  apiId: "egov-bff"
                  ver: "0.0.1"
                  ts: 1706503224772
                  status: "successful"
                  desc: "new-response"
                Job:
                  ingestionDetails:
                    userInfo:
                      id: 281
                      uuid: "3ae47a59-ed1e-489d-b8fb-a78e7a167966"
                      userName: "EMP54"
                      name: "Jagan"
                      type: "EMPLOYEE"
                      mobileNumber: "6667776662"
                      emailId: "xyz@egovernments.org"
                      tenantId: "mz"
                      roles:
                        - id: null
                          name: "Localisation admin"
                          code: "LOC_ADMIN"
                          tenantId: "pg"
                        - id: null
                          name: "System Administrator"
                          code: "SYSTEM_ADMINISTRATOR"
                          tenantId: "mz"
                        - id: null
                          name: "Super User"
                          code: "SUPERUSER"
                          tenantId: "mz"
                    projectType: "LLIN-Default-Test2"
                    projectTypeId: "dbd45c31-de9e-4e62-a9b6-abb818933333"
                    projectName: "TestCampaign1"
                    history:
                      - fileStoreId: "aecc4be8-7a99-4c1c-ad6b-1bb2d5981852"
                        tenantId: "mz"
                        state: "started"
                        type: "xlsx"
                        ingestionType: "boundary"
                        ingestionNumber: "ING-2024-01-29-001827"
                  tenantId: "mz"
                  RequestInfo:
                    userInfo:
                      id: 281
                      uuid: "3ae47a59-ed1e-489d-b8fb-a78e7a167966"
                      userName: "EMP54"
                      name: "Jagan"
                      type: "EMPLOYEE"
                      mobileNumber: "6667776662"
                      emailId: "xyz@egovernments.org"
                      tenantId: "mz"
                      roles:
                        - id: null
                          name: "Localisation admin"
                          code: "LOC_ADMIN"
                          tenantId: "pg"
                        - id: null
                          name: "System Administrator"
                          code: "SYSTEM_ADMINISTRATOR"
                          tenantId: "mz"
                        - id: null
                          name: "Super User"
                          code: "SUPERUSER"
                          tenantId: "mz"
  /hcm-bff/hcm/_searchmicroplan:
    post:
      summary: Search Micro Plan
      description: Endpoint to search micro plan through the API
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                HCMConfig:
                  type: object
                  properties:
                    campaignId:
                      type: array
                      items:
                        type: string
                    campaignName:
                      type: string
                    campaignType:
                      type: string
                    campaignNumber:
                      type: string
                    ingestionType:
                      type: string
                RequestInfo:
                  type: object
                  properties:
                    apiId:
                      type: string
                    authToken:
                      type: string
                    userInfo:
                      type: object
                      properties:
                        id:
                          type: integer
                        uuid:
                          type: string
                        userName:
                          type: string
                        name:
                          type: string
                        mobileNumber:
                          type: string
                        emailId:
                          type: string
                        locale:
                          type: string
                        type:
                          type: string
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              code:
                                type: string
                              tenantId:
                                type: string
                        active:
                          type: boolean
                        tenantId:
                          type: string
                        permanentCity:
                          type: string
                    msgId:
                      type: string
                    plainAccessRequest: {}
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example:
                ResponseInfo:
                  apiId: "egov-bff"
                  ver: "0.0.1"
                  ts: 1706503224772
                  status: "successful"
                  desc: "new-response"
                campaignDetails:
                - id: "cf3bd20c-5ac3-4af1-a303-55445049b289"
                  fileStoreId: "a47e3f92-5c05-4abf-bf4e-17d2d4a35a72"
                  tenantId: "mz"
                  status: "In Progress"
                  campaignType: "type_1"
                  projectTypeId: "16e50b0b-4869-49c0-8a86-5a5e8731b6d5"
                  campaignName: "campaign_name_1"
                  campaignNumber: "cmp-050-788-099"
                  createdby: "8800c6e3-2a35-41aa-ae2f-28ee6a8b9dd0"
                  lastmodifiedby: "d860d4c5-d1ad-4c7b-81b5-63a270b09c2a"
                  createdtime: 123456789
                  lastmodifiedtime: 987654321
                  additionalDetails: "{}"
                  ingestionDetails:
                    - id: "9c41be22-6c69-4f70-b3ad-6a5a9f1b868a"
                      campaignId: "cf3bd20c-5ac3-4af1-a303-55445049b289"
                      fileStoreId: "a47e3f92-5c05-4abf-bf4e-17d2d4a35a72"
                      tenantId: "mz"
                      ingestionNumber: "ING-2024-01-31-001896"
                      jobId: "f43a5ed4-1c07-4a2c-94c5-71f68e15466a"
                      status: "started"
                      ingestionType: "facility"
                      createdby: "8800c6e3-2a35-41aa-ae2f-28ee6a8b9dd0"
                      lastmodifiedby: "d860d4c5-d1ad-4c7b-81b5-63a270b09c2a"
                      createdtime: 123456789
                      lastmodifiedtime: 987654321
                      additionalDetails: "{}"
                - id: "6cd6f62e-8c66-4f61-854b-87287d0b8f42"
                  fileStoreId: "a47e3f92-5c05-4abf-bf4e-17d2d4a35a72"
                  tenantId: "mz"
                  status: "Completed"
                  campaignType: "type_1"
                  projectTypeId: "16e50b0b-4869-49c0-8a86-5a5e8731b6d5"
                  campaignName: "campaign_name_1"
                  campaignNumber: "cmp-050-789-098"
                  createdby: "8800c6e3-2a35-41aa-ae2f-28ee6a8b9dd0"
                  lastmodifiedby: "d860d4c5-d1ad-4c7b-81b5-63a270b09c2a"
                  createdtime: 123456789
                  lastmodifiedtime: 987654321
                  additionalDetails: "{}"
                  ingestionDetails:
                    - id: "5d6f2921-d1b5-4c44-aae6-0e5a50eac0b3"
                      campaignId: "6cd6f62e-8c66-4f61-854b-87287d0b8f42"
                      fileStoreId: "a47e3f92-5c05-4abf-bf4e-17d2d4a35a72"
                      tenantId: "mz"
                      ingestionNumber: "ING-2024-01-31-001897"
                      jobId: "7cbf9a5b-9060-4f14-8d3b-24bc82d3790b"
                      status: "Completed"
                      ingestionType: "facility"
                      createdby: "8800c6e3-2a35-41aa-ae2f-28ee6a8b9dd0"
                      lastmodifiedby: "d860d4c5-d1ad-4c7b-81b5-63a270b09c2a"
                      createdtime: 123456789
                      lastmodifiedtime: 987654321
                      additionalDetails: "{}"
        '500':
          description: Error response
          content:
            application/json:
              example:
                ResponseInfo: null
                Errors:
                  - code: INTERNAL_SERVER_ERROR
                    message: "detailed error response"
                    description: null
                    params: null
